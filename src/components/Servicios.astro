---
import Layout from "../layouts/Layout.astro";
import { servicios } from "../scripts/servicios.js";
---

<Layout title="Nuestros Servicios">
  <main class="bg-font4" role="main">
    <section
      id="servicios"
      class="py-16 px-4 sm:px-6 lg:px-8 max-w-6xl w-full mx-auto font-display"
      aria-labelledby="titulo-servicios"
    >
      <header class="text-center mb-12">
        <h2
          id="titulo-servicios"
          class="scroll-mt-24 text-3xl md:text-4xl font-bold text-[#080A0C] mb-4 font-[var(--font-display)]"
        >
          Nuestros Servicios Odontológicos
        </h2>

        <p class="text-[var(--color-text2)] max-w-2xl mx-auto text-lg">
          Ofrecemos tratamientos integrales con tecnología de última generación
          para cuidar tu salud bucal en todas las etapas de la vida.
        </p>
      </header>

      <!-- Versión móvil (Slider) -->
      <div class="lg:hidden">
        <swiper-container
          slides-per-view="1"
          space-between="16"
          pagination="true"
          class="overflow-visible px-4"
          prevent-clicks="false"
        >
          {
            servicios.map((servicio) => (
              <swiper-slide
                key={servicio.titulo}
                aria-label={`Servicio: ${servicio.titulo}`}
              >
                <article class="h-full flex flex-col bg-white rounded-lg shadow-md border border-gray-200 overflow-hidden min-h-[450px]">
                  <div class="w-full h-44 sm:h-52 overflow-hidden">
                    <img
                      src={servicio.imagen}
                      alt={servicio.titulo}
                      class="w-full h-full object-cover object-center"
                      loading="lazy"
                      width="400"
                      height="300"
                    />
                  </div>
                  <div class="flex flex-col justify-between p-4 flex-grow pb-8">
                    <div>
                      <h3 class="font-bold text-text1 text-lg mb-2">
                        {servicio.titulo}
                      </h3>
                      <p class="text-text4 leading-snug mb-4 line-clamp-4">
                        {servicio.texto}
                      </p>
                    </div>
                    <a
                      href="#contacto"
                      class="mt-auto mb-2 text-sm font-semibold text-font2 hover:underline transition relative z-10 py-2 px-4 -mx-4"
                      style="touch-action: pan-y;"
                      aria-label={`Más información sobre ${servicio.titulo}`}
                    >
                      Saber más →
                    </a>
                  </div>
                </article>
              </swiper-slide>
            ))
          }
        </swiper-container>
      </div>

      <!-- Versión desktop y tablet (Grid de 2 o 3 columnas) -->
      <div
        class="hidden lg:grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3 gap-6"
      >
        {
          servicios.map((servicio) => (
            <article class="h-full flex flex-col bg-white rounded-lg shadow-md border border-gray-200 overflow-hidden min-h-[440px]">
              <div class="w-full h-52 overflow-hidden">
                <img
                  src={servicio.imagen}
                  alt={servicio.titulo}
                  class="w-full h-full object-cover object-center"
                  loading="lazy"
                  width="400"
                  height="300"
                />
              </div>
              <div class="flex flex-col justify-between p-4 flex-grow">
                <div>
                  <h3 class="font-bold text-font2 text-lg mb-2">
                    {servicio.titulo}
                  </h3>
                  <p class="text-text4 leading-snug mb-4 line-clamp-4">
                    {servicio.texto}
                  </p>
                </div>
                <a
                  href="#contacto"
                  class="mt-auto text-sm font-semibold text-font2 hover:underline transition"
                  style="touch-action: pan-y;"
                  aria-label={`Más información sobre ${servicio.titulo}`}
                >
                  Saber más →
                </a>
              </div>
            </article>
          ))
        }
      </div>

      <!-- CTA -->
      <div class="mt-16 text-center">
        <a
          href="#contacto"
          class="inline-block rounded-full bg-[var(--color-font2)] hover:bg-[var(--color-font3)]/90 text-white font-semibold py-3 px-8 transition duration-300"
        >
          Agendar una cita
        </a>
      </div>
    </section>
  </main>
</Layout>
