---
const imagenes = [
  "/img_galeria/img4.jpg",
  "/img_galeria/img5.jpg",
];
---

<section id="galeria" class="py-20 px-4 sm:px-6 lg:px-8 bg-[#F9FAFB] font-display">
  <div class="max-w-5xl mx-auto">
    <h2 class="text-3xl md:text-4xl font-bold text-[#080A0C] mb-10 text-center">Galería</h2>

    <div class="grid grid-cols-1 sm:grid-cols-2 gap-6 justify-center">
      {imagenes.map((src, index) => (
        <button
          type="button"
          class="group"
          onclick={`openModal('${src}')`}
        >
          <img
            src={src}
            alt={`Imagen ${index + 1}`}
            class="w-full h-64 object-cover rounded-lg shadow-md group-hover:scale-105 transition-transform duration-300 cursor-pointer"
            loading="lazy"
          />
        </button>
      ))}
    </div>
  </div>

  <!-- Modal -->
  <div id="modal" class="fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50 hidden">
    <div class="relative p-4 w-[90%] sm:w-[80%] md:w-[70%] lg:w-[60%] xl:w-[50%] scale-110 transition-transform duration-300">
      <button
        id="closeModal"
        class="absolute top-2 right-2 text-white bg-black/50 hover:bg-black rounded-full p-2 z-10"
        aria-label="Cerrar"
      >
        ✕
      </button>
      <img
        id="modalImage"
        src=""
        alt="Imagen ampliada"
        class="w-full h-auto max-h-[80vh] object-contain rounded-lg shadow-lg"
      />
    </div>
  </div>
</section>


<!-- Script -->
<script is:inline>
  const modal = document.getElementById("modal");
  const modalImage = document.getElementById("modalImage");
  const closeModal = document.getElementById("closeModal");

  function openModal(src) {
    if (!modal || !modalImage) return;
    modalImage.src = src;
    modal.classList.remove("hidden");
  }

  closeModal?.addEventListener("click", () => {
    modal?.classList.add("hidden");
    modalImage.src = "";
  });

  modal?.addEventListener("click", (e) => {
    if (e.target === modal) {
      modal.classList.add("hidden");
      modalImage.src = "";
    }
  });
</script>
